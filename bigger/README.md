# BIGGER

由于镜像一般都很大，如果使用常见的 io.Read 方式将其加载到内存中进行读取的话，对性能的影响非常严重，这里尝试改变思路，通过分片的方式实现功能

1. Client 主动向 Server 进行上传许可提交，Server 在查询磁盘有足够的空间接受文件后返回允许上传的标识，同时创建空洞文件占位磁盘
2. Client 在本地将镜像分片，一般调整至 10M 一片，这里可以不需要将分片落盘，而是通过 Seek 偏移后在内存中进行操作，同时可以将数据计算为 MD5
3. Server 接受到了分片数据与 MD5，每次校验完成后，返回继续上传的标识，如果校验不通过或者大小不一致则按需重传
4. Client 随着上传分片的进度可以展示为进度条

## 接口划分